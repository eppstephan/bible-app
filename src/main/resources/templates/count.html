<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Bibel Web Applikation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link
		href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII="
		rel="icon" type="image/x-icon" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="topnav.css">
	<link rel="stylesheet" href="main.css">
</head>

<body onload="init()">
	<div class="header">
		<div class="topnav" id="topnav">
			<a href="/home">Home</a>
			<a href="/read">Lesen</a>
			<a href="/search">Suchen</a>
			<a href="/count" class="active">Zählen</a>
			<!-- <div class="dropdown">
			<button class="dropbtn">Dropdown
				<i class="fa fa-caret-down"></i>
			</button>
			<div class="dropdown-content">
				<a href="#">Link 1</a>
				<a href="#">Link 2</a>
				<a href="#">Link 3</a>
			</div>
		</div> -->
			<a href="/about">Über</a>
			<a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="handleTopNav()">&#9776;</a>
		</div>

		<div class="headline">
			<h2>Wörter der Bibel zählen</h2>
			<h5>Nach der Übersetzung von Martin Luther 1912</h5>
		</div>
		<!--Make sure the form has the autocomplete function switched off:-->
		<div class="form">
			<form autocomplete="off" th:action="@{/count}" th:object="${section}" method="POST" id="form">
				<div class="passageFrom">
					<div class="autocomplete">
						<input id="inputBookFrom" type="text" placeholder="Buch" name="bookFrom" th:field="*{bookFrom}">
					</div>
					<div class="select">
						<select id="selectChapterFrom" type="text" name="chapterFrom" th:field="*{chapterFrom}"
							onchange="populateVersesFrom()"></select>
					</div>
					<div class="select">
						<select id="selectVerseFrom" type="text" name="verseFrom" th:field="*{verseFrom}"
							onchange="checkSubmit()"></select>
					</div>
				</div>
				<div class="passageTo">
					<div class="autocomplete">
						<input id="inputBookTo" type="text" placeholder="Buch" name="bookTo" th:field="*{bookTo}">
					</div>
					<div class="select">
						<select id="selectChapterTo" type="text" name="chapterTo" th:field="*{chapterTo}"
							onchange="populateVersesTo()"></select>
					</div>
					<div class="select">
						<select id="selectVerseTo" type="text" name="verseTo" th:field="*{verseTo}"
							onchange="checkSubmit()"></select>
					</div>
				</div>
				<div class="submit">
					<input type="submit" id="submit" value="Zählen" onclick="doSubmit()" disabled="true">
				</div>
			</form>
		</div>
	</div>
	<script type="text/javascript" charset="utf-8" src="topnav.js"></script>
	<script type="text/javascript" charset="utf-8" src="count.js"></script>
	<script th:inline="javascript">
		/*<![CDATA[*/
    	var books = /*[[${books}]]*/ "";
		var chapters = /*[[${chapters}]]*/ "";
		var verses = /*[[${verses}]]*/ "";
		/*]]>*/
		autocomplete(document.getElementById("inputBookFrom"), books);
		autocomplete(document.getElementById("inputBookTo"), books);
	</script>
	<br>
	<div class="countResult">
		<script th:inline="javascript">
			/*<![CDATA[*/
	    	var words = /*[[${words}]]*/ "";
			/*]]>*/
		</script>
		<span th:if="${section.bookFrom == null}"
			th:text="'Gezählt werden die Wörter in einem bestimmten Abschnitt. Der Abschnitt wird bestimmt von der ersten Stelle mit Buch, Kapitel und Vers bis zur zweiten Stelle mit Buch, Kapitel und Vers.'"></span>

		<span th:if="${section.bookFrom != null}"
			th:text="'Insgesamt wurden ' + ${words.size()} + ' Wörter gezählt im Abschnitt von ' + ${section.bookFrom} + ' ' + ${section.chapterFrom} + ', ' + ${section.verseFrom} + ' bis '"></span>
		<span th:if="${section.bookTo != null}"
			th:text="${section.bookTo} + ' ' +${section.chapterTo} + ', ' + ${section.verseTo} + '.'"></span>
		<span th:if="${section.bookFrom != null}" th:text="'Die Tabelle zeigt die Anzahl (#) für jedes Wort, wie oft es gezählt wurde.'"></span>
		<br><br>
		<table id="wordsTable"></table>
	</div>
	<span class="countResultButton" id="countResultButton">Mehr</span> 
</body>

</html>